### Инструкция по добавлению и обновлению сертификатов во внутреннем хранилище сертификатов Р7 Органайзер

На чистой установке запустите Р7-Органайзер для создания базового профиля, который будет впоследствии использоваться в качестве шаблона. Настройку подключения к почтовому серверу производить при создании шаблона профиля не надо!

Закройте Р7-Органайзер.

Базовый профиль создается в домашней директории пользователя. Пример расположения профиля:/home/user/.r7organizer

В указанном каталоге будут содержаться 3 вложенных каталога и 2 файла конфигурации.

Файл ``installs.ini``: содержит информацию об установках приложения в системе. Он связывает конкретные установки Р7-Органайзер с профилями, чтобы обеспечить корректную работу, если у вас установлено несколько версий программы.

Файл ``profiles.ini``: содержит информацию о доступных профилях пользователей для Р7‑Органайзер. Он необходим для управления профилями, их местоположением и активностью.

Каталог ``demo``: предназначен для хранения демонстрационного лицензионного ключа для Р7-Органайзер сроком на 30 дней с момента установки.

Каталог ``9r01ym1.default``: Служебный каталог Р7-Органайзер, наименование которого сгенерировано случайным образом, создается при первом открытии почтового клиента и используется для хранения временных меток, связанных с профилем пользователя.

Каталог ``d1gyec5d.default-default``: Основной каталог профиля пользователя, наименование которого сгенерировано случайным образом, создается при первом открытии почтового клиента и предназначен для хранения информации о профиле пользователя (сообщения, календари, настройки и т.д).

#### Добавление SSL сертификата почтового сервера в хранилище сертификатов.

Для добавления сертификата нам потребуется утилита ``certutil``

Если утилита не установлена можете установить командой
```
apt install libnss3-tools
```
Перейдите в каталог профиля ``cd /home/пользователь/.r7organizer/****.default-default/`` и выполните команду:
```bash
certutil -A -n "Название сертификата" -t "C,C,C" -i /путь/к/сертификату.crt -d sql:.
```
, Где:

- A — добавить сертификат
- n — указывает имя сертификата (в кавычках)
- t — настройка доверия (для веб-сайтов, почты и программ)
- i — указывает путь к сертификату
- d sql:. — указывает базу NSS в текущей директории.

Проверьте, что сертификат добавлен:
```
bash
certutil -L -d sql:.
```
